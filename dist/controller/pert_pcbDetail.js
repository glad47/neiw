/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.define(["admin","form","element","laytpl","layer"],function(e){function l(e){if(console.log("开始计算"),1===M){a("1");var l=parseFloat(m*f*y)/1e6;p("#areasq").val(l.toFixed(3))}else if(2===M){a("2");var l=parseFloat(g*b*S)/1e6;if(p("#areasq").val(l.toFixed(3)),""!=S&&""!=x&&""!=Y){var t=Math.ceil(S*x*Y);p("#quantityPCS").val(t)}}}function a(e){var l=e;"1"==l?(m=p("#singleSizeX").val(),f=p("#singleSizeY").val(),y=p("#quantityPCS").val()):"2"==l&&(x=p("#panelWayX").val(),Y=p("#panelWayY").val(),S=p("#quantityPanel").val(),g=p("#panelSizeX").val(),b=p("#panelSizeY").val())}function t(e){console.log(e),0===e?(p(".itPanelway input").attr("disabled",G.isDis.itPanelway),p(".itPanelsize input").attr("disabled",G.isDis.itPanelsize)):1===e?""==p("input[name='panelSizeX']").val()?n(11):""!=p("input[name='panelSizeX']").val()&&n(12):2===e&&(""==p("input[name='dimensionsX']").val()?n(21):""!=p("input[name='dimensionsX']").val()&&n(22))}function n(e){var l=[3,4,5,6,7,8],a=[0,1,2];p(".topCleanForm input").each(function(t,n){if(11===e){for(var i=0;i<l.length;i++)p(".topCleanForm input:eq("+l[i]+")").attr("disabled","disabled");for(var i=0;i<a.length;i++)p(".topCleanForm input:eq("+a[i]+")").removeAttr("disabled")}else if(12===e){for(var i=0;i<l.length;i++)p(".topCleanForm input:eq("+l[i]+")").attr("disabled","disabled"),p(".topCleanForm input:eq("+l[i]+")").val("");for(var i=0;i<a.length;i++)p(".topCleanForm input:eq("+a[i]+")").removeAttr("disabled")}else if(21===e){for(var i=0;i<a.length;i++)p(".topCleanForm input:eq("+a[i]+")").attr("disabled","disabled");for(var i=0;i<l.length;i++)p(".topCleanForm input:eq("+l[i]+")").removeAttr("disabled")}else if(22===e){for(var i=0;i<a.length;i++)p(".topCleanForm input:eq("+a[i]+")").attr("disabled","disabled"),p(".topCleanForm input:eq("+a[i]+")").val("");for(var i=0;i<l.length;i++)p(".topCleanForm input:eq("+l[i]+")").removeAttr("disabled")}})}function i(e){if(p("#selLayer").children().remove(),"Aluminum"==e)for(var l=0;l<F.length;l++){var a=F[l].text,t=F[l].value,n="";console.log(999),n+=t==K.layerNum?"<option selected value="+t+">"+a+"</option>":"<option value="+t+">"+a+"</option>",p("#selLayer").append(n)}else if("FR4"==e)for(var l=0;l<h.length;l++){var a=h[l].text,t=h[l].value,n="";n+=t==K.layerNum?"<option selected value="+t+">"+a+"</option>":"<option value="+t+">"+a+"</option>",p("#selLayer").append(n),s(1)}else if("FR4+Aluminum"==e)for(var l=0;l<q.length;l++){var a=q[l].text,t=q[l].value,n="";n+=t==K.layerNum?"<option selected value="+t+">"+a+"</option>":"<option value="+t+">"+a+"</option>",p("#selLayer").append(n)}}function o(e){if(p("#selMaterial").children().remove(),"Aluminum"==e){for(var l=0;l<C.length;l++){var a=C[l].text,t=C[l].value,n="";n=K.material==t?"<option selected value="+t+">"+a+"</option>":"<option value="+t+">"+a+"</option>",p("#selMaterial").append(n)}r("yg")}else{for(var l=0;l<z.length;l++){var a=z[l].text,t=z[l].value,n="";n=K.material==t?"<option selected value="+t+">"+a+"</option>":"<option value="+t+">"+a+"</option>",p("#selMaterial").append(n)}r("kb")}v.render("select")}function r(e){if(p("#selkbsy").children().remove(),"kb"==e)for(var l=0;l<P.length;l++){var a=P[l].text,t=P[l].value;u(t,a)}else if("yg"==e)for(var l=0;l<A.length;l++){var a=A[l].text,t=A[l].value;u(t,a)}else if("sy"==e)for(var l=0;l<k.length;l++){var a=k[l].text,t=k[l].value;u(t,a)}}function u(e,l){var a="";a=K.productCode==e?"<option selected value="+e+">"+l+"</option>":"<option value="+e+">"+l+"</option>",p("#selkbsy").append(a),v.render("select")}function s(e){2===X?(B.selLayer=1,B.selMaterial="YG",B.selkbsy="YG0001",B.selHc="1W",B.selMinholesize="1.5",B.selPthcopper="none",B.selSoldermc="white",B.selViaprocess="none",B.selSilksc="black",B.isDis.selHc=!1):3===X&&(B.selLayer=4,B.selHc="1W",B.selInlayercoopper="1oz",B.selMintrack="5mil",B.selNofcore="1",B.selMinspaccing="5mil",B.selNofpp="2",B.selInnerMintrack="5mil",B.selMinholesize="1.5",B.selPthcopper="none",B.selSoldermc="white",B.selSilksc="black",B.selPeelable="none",B.isDis.selInlayercoopper=!1,B.isDis.selInnerMintrack=!1,B.isDis.selNofcore=!1,B.isDis.selMinspaccing=!1,B.isDis.selNofpp=!1)}var p=layui.jquery,v=(layui.view,layui.form),d=(layui.admin,layui.element),c=(layui.setter,layui.upload,layui.layer);d.render();var m,f,y,x,Y,S,g,b,h=[{text:1,value:1},{text:2,value:2},{text:4,value:4},{text:6,value:6},{text:8,value:8}],F=[{text:1,value:1},{text:2,value:2}],q=[{text:4,value:4},{text:6,value:6},{text:8,value:8}],z=[{text:"KB",value:"KB"},{text:"SY",value:"SY"}],C=[{text:"YG",value:"YG"}],P=[{text:"KB6160",value:"KB6160"},{text:"KB6150",value:"KB6150"},{text:"KB6165",value:"KB6165"},{text:"KB6167",value:"KB6167"}],k=[{text:"SY1130",value:"SY1130"},{text:"SY1141",value:"SY1141"},{text:"SY1150",value:"SY1150"},{text:"SY1170",value:"SY1170"},{text:"SY1180",value:"SY1180"},{text:"SY1000",value:"SY1000"},{text:"SY1000-2",value:"SY1000-2"},{text:"SY1600",value:"SY1600"}],A=[{text:"YG0001",value:"YG0001"},{text:"YG0002",value:"YG0002"},{text:"YG0003",value:"YG0003"},{text:"YG0004",value:"YG0004"}],G={isDis:{itPanelway:!0,itPanelsize:!0}},M=1,B={},D=p(".selPertData").attr("data"),K=JSON.parse("{"+D.replace(/\'/g,'"')+"}");t(K.borderType),i("FR4"),o(K.pcbType),r(K.material.toLowerCase()),M=K.borderType,l(),v.on("radio(boardType)",function(e){var l=e.value;p("#areasq").val(""),"1"==l?(M=1,t(1)):"2"==l&&(M=2,t(2))}),v.on("select(material)",function(e){var l=e.value;"KB"==l?r("kb"):"SY"==l?r("sy"):"YG"==l&&r("yg")}),p("#singleSizeX,#singleSizeY,#quantityPCS").bind("input propertychange",function(e){l()}),p("#panelSizeX,#panelSizeY,#quantityPanel").bind("input propertychange",function(e){null!=g&&null!=b&&null!=S&&l()}),p("#panelWayX,#panelWayY,#quantityPanel").bind("input propertychange",function(e){l()});var X=1;v.on("radio(pcbType)",function(e){var l=e.value;c.msg(l),"FR4"==l?(X=1,i("FR4"),s(),o("FR4")):"Aluminum"==l?(X=2,i("Aluminum"),s(),o("Aluminum")):"FR4+Aluminum"==l&&(X=3,i("FR4+Aluminum"),s(),o("FR4+Aluminum"))}),e("pert_pcbDetail",{})});