/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.define(["table","form","r","upload"],function(e){var t=layui.$,n=layui.table,i=layui.form,o=layui.upload,l=layui.setter,r=layui.r;i.render(null,"sys-country-list"),i.on("submit(LAY-sys-country-search)",function(e){var t=e.field;n.reload("LAY-sys-country-list",{where:t})}),n.render({elem:"#LAY-sys-country-list",url:l.baseUrl+"sys/country/list",parseData:function(e){return{code:0,data:e.page.list,count:e.page.totalCount}},cols:[[{type:"checkbox",fixed:"left"},{field:"id",width:100,title:"ID",sort:!0,align:"center"},{field:"name",title:"国家名(英)",minWidth:100,align:"center"},{field:"cname",title:"国家名(中)",align:"center"},{field:"remark",title:"备注",align:"center"},{field:"partitionFedex",title:"fedex分区",align:"center"},{title:"操作",minWidth:150,align:"center",fixed:"right",toolbar:"#table-country-list"}]],page:!0}),n.on("tool(LAY-sys-country-list)",function(e){"del"===e.event?window.del(e.data):"edit"===e.event&&window.edit(e.data)});var a=(o.render({elem:"#excelFedex",url:l.baseURL+"sys/country/importPartitionFedex",exts:"xlsx|xls",headers:{access_token:layui.data("layuiAdmin").access_token},done:function(e){layer.msg(e.msg)},error:function(){layer.error("上传异常！！")}}),{add:function(){window.add({})},createCode:function(){window.couponGenerate({})}});window.del=function(e){layer.confirm("确定删除吗？",function(t){r.get("sys/country/delete",{ids:e.id}).then(function(){layer.msg("已删除"),n.reload("LAY-sys-country-list"),layer.clone(t)})})},window.edit=function(e){var t;r.popup("编辑国家",["25%","55%"],["修改","取消"],"infoManagement/iframeWindow/sys_country_form",e,"sys-country-form-submit",null,null).then(function(e){var n=e.formData.field;return t=e.index,console.log(n),r.post("sys/country/update",n)}).then(function(e){layer.msg("修改成功！！！"),n.reload("LAY-sys-country-list"),layer.close(t)})},window.add=function(e){var t;r.popup("添加国家",["25%","55%"],["保存","取消"],"infoManagement/iframeWindow/sys_country_form",e,"sys-country-form-submit",null,null).then(function(e){var n=e.formData.field;return t=e.index,console.log(n),r.post("sys/country/save",n)}).then(function(e){layer.msg("添加成功！！！"),n.reload("LAY-sys-country-list"),layer.close(t)})},t(".layui-btn.layuiadmin-btn-list").on("click",function(){var e=t(this).data("type");a[e]?a[e].call(this):""}),e("sys_country",{})});