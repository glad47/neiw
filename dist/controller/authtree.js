/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.define(["jquery","form"],function(e){$=layui.jquery,form=layui.form,obj={render:function(e,i,t){t.inputname=t.inputname?t.inputname:"menuids[]",t.layfilter=t.layfilter?t.layfilter:"checkauth",t.openall=!!t.openall&&t.openall,$(e).html(obj.renderAuth(i,0,t)),form.render(),$(e).find(".auth-single:first").unbind("click").on("click",".layui-form-checkbox",function(){var e=$(this).prev(),i=e.is(":checked");e.parent().next().find('input[type="checkbox"]').prop("checked",i);i?e.parents(".auth-child").prev().find('input[type="checkbox"]').prop("checked",!0):0==$(this).parents(".auth-child:first").find('input[type="checkbox"]:checked').length&&1==$(this).parents(".auth-child:first").prev(".auth-status").find(".layui-form-checkbox:first").length&&$(this).parents(".auth-child:first").prev(".auth-status").find(".layui-form-checkbox:first").click(),form.render("checkbox")}),$(e).unbind("click").on("click",".auth-icon",function(){var e=$(this),i=e.parent().parent().find(".auth-child:first");return e.is(".active")?(e.removeClass("active").html("&#xe623;"),i.slideUp("fast")):(e.addClass("active").html("&#xe625;"),i.slideDown("fast")),!1})},renderAuth:function(e,i,t){var n=t.inputname,a=t.layfilter,c=t.openall,l='<div class="auth-single">';return layui.each(e,function(e,r){var u=r.list?1:0,h=u?obj.renderAuth(r.list,i+1,t):"";l+='<div><div class="auth-status"> '+(u?'<i class="layui-icon auth-icon '+(c?"active":"")+'" style="cursor:pointer;">'+(c?"&#xe625;":"&#xe623;")+"</i>":'<i class="layui-icon auth-leaf" style="opacity:0;">&#xe626;</i>')+(i>0?"<span>├─ </span>":"")+'<input type="checkbox" id="treeInputValue'+r[t.nodeValue]+'" name="'+n+'" title="'+r[t.nodeName]+'" value="'+r[t.nodeValue]+'" lay-skin="primary" lay-filter="'+a+'" '+(r.checked?'checked="checked"':"")+'> </div> <div class="auth-child" style="'+(c?"":"display:none;")+'padding-left:40px;"> '+h+"</div></div>"}),l+="</div>"},setValue:function(e,i){layui.each(i,function(i,t){var n=$(e).find("#treeInputValue"+t);1==n.length&&n.prop("checked",!0)}),form.render()},getLeaf:function(e,i){var t=$(e).find('input[type="checkbox"]:checked'),n=[];return layui.each(t,function(e,i){n.push(i.value)}),n}},e("authtree",obj)});