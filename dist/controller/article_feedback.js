/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}layui.define(["admin","table","index","element","form","laydate","layedit","formSelects"],function(e){function t(){var e;c.set((e={uploadImage:{url:"your url",accept:"image",acceptMime:"image/*",exts:"jpg|png|gif|bmp|jpeg",size:10240,data:{name:"测试参数",age:99},done:function(e){console.log(e)}},uploadVideo:{url:"your url",accept:"video",acceptMime:"video/*",exts:"mp4|flv|avi|rm|rmvb",size:20480,done:function(e){console.log(e)}},uploadFiles:{url:"your url",accept:"file",acceptMime:"file/*",size:"20480",autoInsert:!0,done:function(e){console.log(e)}},calldel:{url:"your url",done:function(e){console.log(e)}},rightBtn:{type:"layBtn",customEvent:function(e,t){switch(e){case"img":alert("this is img");break;default:alert("hello world")}}},backDelImg:!0,devmode:!0,autoSync:!0,onchange:function(e){console.log(e)},codeConfig:{hide:!0,"default":"javascript",encode:!0,"class":"layui-code"},quote:{style:["Content/css.css"]},customlink:{title:"插入layui官网",href:"https://www.layui.com",onmouseup:""},facePath:"http://knifez.gitee.io/kz.layedit/Content/Layui-KnifeZ/"},_defineProperty(e,"devmode",!0),_defineProperty(e,"videoAttr",' preload="none" '),_defineProperty(e,"tool",["html","undo","redo","code","strong","italic","underline","del","addhr","|","removeformat","fontFomatt","fontfamily","fontSize","fontBackColor","colorpicker","face","|","left","center","right","|","link","unlink","images","image_alt","video","attachment","anchors","|","table","customlink","fullScreen","preview"]),_defineProperty(e,"height","500px"),e))}var i=layui.table,l=layui.view,a=layui.admin,o=layui.form,n=(layui.laydate,layui.setter),c=(layui.element,layui.layedit),r=layui.formSelects,d=layui.jquery;o.render(null,"article-feedback-formlist"),o.on("submit(LAY-article-feedback-search)",function(e){var t=e.field;i.reload("article_Table_feedback",{where:t})}),i.render({elem:"#article_Table_feedback",url:n.baseUrl+"/article/list",toolbar:"#toolbarFeedback",cellMinWidth:80,id:"article_Table_feedback",page:!0,parseData:function(e){return{code:0,data:e.page.list,count:e.page.totalCount}},where:{at:2},cols:[[{field:"id",title:"ID",hide:!1},{field:"articleName",title:"文章名称",hide:!1,align:"center",sort:!0},{field:"articleTime",title:"发布时间",align:"center",width:176,sort:!0},{field:"articleIp",title:"发布ip",align:"center",sort:!0},{field:"articleClick",title:"查看人数",align:"center",sort:!0},{field:"articleLike",title:"点赞数",align:"center",sort:!0},{field:"articleComment",title:"评论数",align:"center",sort:!0},{field:"articleClassify",title:"文章分类",align:"center",sort:!0},{field:"articleType",title:"文章类型",align:"center",templet:"#Tabtb-feedback-type",sort:!0},{field:"articleUserName",title:"文章发布用户",align:"center",sort:!0},{field:"articleStatus",title:"文章状态",align:"center",templet:"#Tabtb-feedback-management-status",sort:!0},{title:"操作",width:120,align:"center",fixed:"right",toolbar:"#Tabtb-feedback-management-option"}]],done:function(e,t,i){/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)&&d("#LAY_app_body").each(function(e){d("a[lay-event='edit']").html('<i class="layui-icon layui-icon-edit"></i>'),d("a[lay-event='search']").html('<i class="layui-icon layui-icon-search"></i>'),d("a[lay-event='del']").html('<i class="layui-icon layui-icon-delete"></i>'),d(".laytable-cell-1-0-22").css({width:"130px"})})}}),i.on("tool(article_Table_feedback)",function(e){var t=e.data;console.log(t),"edit"===e.event?a.popup({title:"修改反馈",area:["750px","750px"],btn:["提交","取消"],yes:function(e,t){d("#layuiadmin-app-form-submit").click()},btn2:function(e,t){},end:function(){clickTr={}},id:"LAY-popup-role-add",success:function(e,i){l(this.id).render("articleManagement/feedbackfrom",t).done(function(){var e;r=layui.formSelects,o.render(null,"layuiadmin-app-form-list"),c.set((e={uploadImage:{url:"your url",accept:"image",acceptMime:"image/*",exts:"jpg|png|gif|bmp|jpeg",size:10240,data:{name:"测试参数",age:99},done:function(e){console.log(e)}},uploadVideo:{url:"your url",accept:"video",acceptMime:"video/*",exts:"mp4|flv|avi|rm|rmvb",size:20480,done:function(e){console.log(e)}},uploadFiles:{url:"your url",accept:"file",acceptMime:"file/*",size:"20480",autoInsert:!0,done:function(e){console.log(e)}},calldel:{url:"your url",done:function(e){console.log(e)}},rightBtn:{type:"layBtn",customEvent:function(e,t){switch(e){case"img":alert("this is img");break;default:alert("hello world")}}},backDelImg:!0,devmode:!0,autoSync:!0,onchange:function(e){console.log(e)},codeConfig:{hide:!0,"default":"javascript",encode:!0,"class":"layui-code"},quote:{},customlink:{title:"插入layui官网",href:"https://www.layui.com",onmouseup:""},facePath:"http://knifez.gitee.io/kz.layedit/Content/Layui-KnifeZ/"},_defineProperty(e,"devmode",!0),_defineProperty(e,"videoAttr",' preload="none" '),_defineProperty(e,"tool",["html","undo","redo","code","strong","italic","underline","del","addhr","|","removeformat","fontFomatt","fontfamily","fontSize","fontBackColor","colorpicker","face","|","left","center","right","|","link","unlink","images","image_alt","video","attachment","anchors","|","table","customlink","fullScreen","preview"]),_defineProperty(e,"height","500px"),e));var t=c.build("blogcontent",{uploadImage:{url:n.imUrl+"imgfile/fileupload"}});o.on("submit(layuiadmin-app-form-submit)",function(e){var l=e.field,o=c.getContent(t);l.articleContent=o,a.req({url:n.baseUrl+"article/update",type:"POST",data:l,success:function(e){console.log(e),0==e.code?(layui.table.reload("article_Table_feedback"),layer.close(i)):layer.msg("更新失败！！")}})})})}}):"del"===e.event&&layer.confirm("确定删除此反馈？",function(e){a.req({url:n.baseUrl+"article/delete",type:"POST",data:{ids:t.id},success:function(e){layui.table.reload("article_Table_feedback"),layer.msg("已删除")}})})}),i.on("toolbar(article_Table_feedback)",function(e){switch(e.event){case"add":a.popup({title:"添加反馈",area:["750px","750px"],btn:["提交","取消"],yes:function(){d("#layuiadmin-app-form-submit").click()},btn2:function(e,t){},end:function(){clickTr={}},id:"feedbackAdd-popu",success:function(e,i){l(this.id).render("articleManagement/feedbackfrom").done(function(){o.render(null,"layuiadmin-app-form-list"),t();var e=c.build("blogcontent",{uploadImage:{url:n.imUrl+"imgfile/fileupload"}});o.on("submit(layuiadmin-app-form-submit)",function(t){var l=t.field,o=c.getContent(e);l.articleContent=o,a.req({url:n.baseUrl+"article/saveFeedback",type:"POST",data:l,success:function(e){console.log(e),0==e.code?(layui.table.reload("article_Table_feedback"),layer.close(i)):layer.msg("添加失败！！！")}})})})}})}}),d(".test-table-operate-btn .layui-btn").on("click",function(){var e=d(this).data("type");active[e]?active[e].call(this):""}),e("article_feedback",{})});