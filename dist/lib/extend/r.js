/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.define(["layer","jquery","admin","form"],function(n){function t(n,t,e,o){return new Promise(function(i,r){var a;o&&(a=u.msg("数据提交中，请稍候",{icon:16,time:!1,shade:.8})),s.ajax({type:n,url:b.baseURL+t,headers:b.headers,contentType:"application/json; charset=utf-8",data:e,success:function(n){o&&u.close(a),n[d.statusName]!=d.statusCode.ok?u.msg(n[d.msgName]):i(null==n[d.dataName]?n.user:n[d.dataName])},error:function(){u.close(a),u.msg("系统错误，请联系开发管理人员！"),r()}})})}function e(n){var t=n.split("/"),e=t[t.length-1].replace(/_/g,"-");return e}function o(n,t,o,i,r,a,c,l){return new Promise(function(f,d){var y=e(i);m.popup({id:"LAY-popup-"+y,title:n,area:t,btn:o,yes:function(n,t){s("#".concat(a)).click()},success:function(n,t){p(this.id).render(i,r).then(function(n){}).done(function(){h.on("submit(".concat(a,")"),function(n){console.log(n);var e={};if(c)if(1==l){var o=table.cache["".concat(c)].filter(function(n){return!Array.isArray(n)});e.tableData=o}else if(2==l){var i=table.checkStatus("".concat(c)),r=i.data;if(0==r.length)return u.msg("请选择表格数据!!");e.tableData=r[0]}c&&(n.field.delIdArr?n.field.delIdArr=n.field.delIdArr.split(","):n.field.delIdArr=[]),e.formData=n,e.index=t,f(e)})})}})})}function i(n,t,o,i,r,a){return new Promise(function(c,u){var s=e(i);m.popup({id:"LAY-print-"+s,title:n,area:t,btn:o,maxmin:!0,yes:function(n,t){document.body.innerHTML=document.getElementById(a).innerHTML,window.print(),window.location.reload()},success:function(n,t){p(this.id).render(i,r).done(function(){c(t)})}})})}function r(n,t,o,i){return new Promise(function(r,a){var c=e(o);m.popup({id:"LAY-show-"+c,title:n,area:t,offset:"r",anim:2,success:function(n,t){p(this.id).render(o,i).done(function(){r(t)})}})})}function a(n,t,o,i,r,a){return new Promise(function(c,l){var f=e(i);m.popup({id:"LAY-popup-"+f,title:n,closeBtn:0,anim:2,shadeClose:!0,area:t,btn:o,yes:function(){s("#".concat(r)).click()},success:function(n,t){p(this.id).render(i).done(function(){s("#".concat(r)).click(function(){var n={},e=table.checkStatus(a),o=e.data;return console.log(o),0===o.length?u.msg("请选择要导入的数据"):(o=o[0],n.data=o,n.index=t,void c(n))})})}})})}var c="r",u=layui.layer,s=layui.jquery,l=layui.setter,f=l.request,d=l.response,m=layui.admin,p=layui.view,h=layui.form,y={};y[f.tokenName]=layui.data(l.tableName)[f.tokenName]||"";var b={headers:y,baseURL:l.baseUrl,timeout:3e3},g=new function(){this.get=function(n,e,o){return t("GET",n,e,o)},this.post=function(n,e,o){return o&&(o=!0),t("POST",n,JSON.stringify(e),o)},this["delete"]=function(n,e){return t("DELETE",n,e)},this.put=function(n,e){return t("PUT",n,JSON.stringify(e))},this.setData=function(n,t){layui.data("LocalData",{key:n,value:t})},this.getData=function(n){var t=layui.data("LocalData");return t[n]},this.popup=function(n,t,e,i,r,a,c,u){return console.log(i),o(n,t,e,i,r,a,c,u)},this.print=function(n,t,e,o,r,a){return i(n,t,e,o,r,a)},this.showPcbInfo=function(n){return r("查看pcb信息",["50%","100%"],"common/common_show_pcb_info",n)},this.commonInportProductNos=function(){return a("选择订单型号",["50%","60%"],["确定","取消"],"common/common_import_order_form_table","drsjyc","LAY-common-import-order-table-list")},this.commonInportSupplier=function(){return a("选择供应商",["50%","60%"],["确定","取消"],"common/common_import_supplier_form_table","drsjyc-supplier","LAY-common-import-supplier-table-list")}};n(c,g)});