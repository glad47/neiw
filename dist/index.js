/** layuiAdmin.pro-v1.0.0 LPPL License By http://www.layui.com/admin/ */
 ;"use strict";layui.extend({setter:"config",admin:"lib/admin",view:"lib/view"}).define(["setter","admin"],function(e){var a=layui.setter,i=layui.element,n=layui.admin,t=n.tabsPage,l=layui.view,o=function y(){var e=layui.router(),o=e.path,r=n.correctRouter(e.path.join("/"));o.length||(o=[""]),""===o[o.length-1]&&(o[o.length-1]=a.entry);var h=function(e){y.haveInit&&d(".layui-layer").each(function(){var e=d(this),a=e.attr("times");e.hasClass("layui-layim")||e.hasClass("layui-layim-min")||layer.close(a)}),y.haveInit=!0,d(s).scrollTop(0),delete t.type};return"tab"===t.type&&("/"!==r||"/"===r&&n.tabsBody().html())?(n.tabsBodyChange(t.index),h(t.type)):(l().render(o.join("/")).then(function(l){var o,c=d("#LAY_app_tabsheader>li");c.each(function(e){var a=d(this),i=a.attr("lay-id");i===r&&(o=!0,t.index=e)}),a.pageTabs&&"/"!==r&&(o||(d(s).append('<div class="layadmin-tabsbody-item layui-show"></div>'),t.index=c.length,i.tabAdd(u,{title:"<span>"+(l.title||"新标签页")+"</span>",id:r,attr:e.href}))),this.container=n.tabsBody(t.index),a.pageTabs||this.container.scrollTop(0),i.tabChange(u,r),n.tabsBodyChange(t.index)}).done(function(){layui.use("common",layui.cache.callback.common),c.on("resize",layui.data.resize),i.render("breadcrumb","breadcrumb"),n.tabsBody(t.index).on("scroll",function(){var e=d(this),a=d(".layui-laydate"),i=d(".layui-layer")[0];a[0]&&(a.each(function(){var e=d(this);e.hasClass("layui-laydate-static")||e.remove()}),e.find("input").blur()),i&&layer.closeAll("tips")})}),void h())},r=function(e){var i,t=layui.router(),r=l(a.container),s=n.correctRouter(t.path.join("/"));if(layui.each(a.indPage,function(e,a){if(s===a)return i=!0}),layui.config({base:a.base+"controller/"}),i||"/user/login"===s)r.render(t.path.join("/")).done(function(){n.pageType="alone"});else{if(a.interceptor){var u=layui.data(a.tableName);if(!u[a.request.tokenName])return location.hash="/user/login/redirect="+encodeURIComponent(s)}"console"===n.pageType?o():r.render("layout").done(function(){o(),layui.element.render(),n.screen()<2&&n.sideFlexible(),n.pageType="console"})}},s="#LAY_app_body",u="layadmin-layout-tabs",d=layui.$,c=d(window);layui.link(a.base+"style/admin.css?v="+(n.v+"-1"),function(){r()},"layuiAdmin"),window.onhashchange=function(){r(),layui.event.call(this,a.MOD_NAME,"hash({*})",layui.router())},layui.each(a.extend,function(e,i){var n={};n[i]="{/}"+a.base+"lib/extend/"+i,layui.extend(n)}),e("index",{render:o})});