
  <div class="layui-form" lay-filter="layuiadmin-app-form-list" id="layuiadmin-app-form-list"style="padding: 20px 30px 0 0;">
    <div class="layui-form-item">
      <label class="layui-form-label">角色名称</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="roleName" value="{{ d.params.title || '' }}" lay-verify="required" placeholder="请输入角色名" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">备注</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="remark" value="{{ d.params.author || '' }}" lay-verify="required" placeholder="请备注" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">授权</label>
      <div class="layui-input-block">
        <div id="LAY-auth-tree-index"></div>
      </div>
    </div>
    <script type="text/html" template>
      <input type="hidden" name="id" value="{{ d.params.id || '' }}">
    </script>
    <div class="layui-form-item">
      <label class="layui-form-label"></label>
      <div class="layui-input-inline">
        <input type="button" lay-submit lay-filter="layuiadmin-app-form-submit" value="确认" class="layui-btn">
         <input type="button" lay-submit lay-filter="layuiadmin-app-form-submit" value="取消" class="layui-btn">
      </div>
    </div>
  </div>

  <script>
    layui.use(['jquery', 'authtree', 'form', 'layer'], function(){
      var $ = layui.jquery
      ,authtree = layui.authtree
      ,form = layui.form
      ,layer = layui.layer
      ,admin = layui.admin
      ,setter = layui.setter;

      admin.req({
        url: setter.baseUrl+'sys/menu/erpnav',
        dataType: 'json',
        success: function(data){
          // 渲染时传入渲染目标ID，树形结构数据（具体结构看样例，checked表示默认选中），以及input表单的名字
          authtree.render('#LAY-auth-tree-index', data.data, {
            inputname: 'menuIds[]', 
            layfilter: 'lay-check-auth', 
            // openall: true,
            autowidth: true,
          });
        }
      });
    });

  </script>
